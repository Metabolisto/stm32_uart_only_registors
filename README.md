# –ü—Ä–æ–µ–∫—Ç STM32: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º —á–µ—Ä–µ–∑ UART –∏ –∫–Ω–æ–ø–∫–æ–π.

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ STM32F103C8T6 –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HAL –∏–ª–∏ LL, —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö (CMSIS), –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π:

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º (PB1) —Å –ø–æ–º–æ—â—å—é UART-–∫–æ–º–∞–Ω–¥
- –û—Ç–ø—Ä–∞–≤–∫—É —Å—Ç—Ä–æ–∫–∏ `"button pressed"` –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ (PA1)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤ —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–∏—Ñ–µ—Ä–∏–µ–π STM32 –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä—ã, –±–µ–∑ HAL –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

## üîå –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∏–Ω—ã

```
| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–∏–Ω  |
|------------|------|
| –ö–Ω–æ–ø–∫–∞     | PA1  |
| –°–≤–µ—Ç–æ–¥–∏–æ–¥  | PB1  |
| UART TX    | PA9  |
| UART RX    | PA10 |
```
## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

- –ï—Å–ª–∏ –ø–æ UART –ø—Ä–∏—Ö–æ–¥–∏—Ç `'1'`, –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥ (PB1)
- –ï—Å–ª–∏ –ø–æ UART –ø—Ä–∏—Ö–æ–¥–∏—Ç `'2'`, —Å–≤–µ—Ç–æ–¥–∏–æ–¥ –≥–∞—Å–Ω–µ—Ç
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ (–∞–∫—Ç–∏–≤–Ω—ã–π –Ω–∏–∑), —Å—Ç—Ä–æ–∫–∞ `"button pressed\r\n"` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ UART

## üõ† –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- MCU: STM32F103C8T6 ("Blue Pill")
- –°–∫–æ—Ä–æ—Å—Ç—å UART: 115200 –±–æ–¥ 8N1
- –†–∞–±–æ—Ç–∞ "–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö" CMSIS
- –ü—Ä–æ—Å—Ç–∞—è –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- –û—Ç–ª–∞–¥–∫–∞ ST-Link V2

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
stm32_uart_only_registors/
‚îú‚îÄ‚îÄ Core/                  # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Inc/               # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (.h)
‚îÇ   ‚îî‚îÄ‚îÄ Src/               # –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (.c)
‚îú‚îÄ‚îÄ .gitignore             # –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ö–∞–∫ –ø—Ä–æ—à–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ STM32CubeIDE.
2. –°–æ–±—Ä–∞—Ç—å (`Ctrl + B`).
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å ST-Link –∏ –ø—Ä–æ—à–∏—Ç—å (`Run ‚Üí Debug` / `Ctrl + F11`).
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å USB-UART CH340G.
5. –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, UART Assistant v5.0.1) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ UART Assistant

- Channel: –≤—ã–±—Ä–∞—Ç—å —Ç–æ—Ç COM-Port, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω USB-UART –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å–µ–ª—å.
- Baud rate: 115200.
- Data bits: 8.
- Stop bit: 1.
- Parity: None.
- Flowctrl: None.

## üé• –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ Proteus 8 Pro (–ü–û –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑–µ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤)
- [–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –≤ Proteus + –°—Ö–µ–º–∞](https://youtu.be/G3csShAZcrc)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ST-LINK V2](https://github.com/user-attachments/assets/11cf20ef-1757-43f4-bd80-f0e9caa32841)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ USB-UART CH340G](https://github.com/user-attachments/assets/635f70f6-237e-441c-b5aa-54983d74e659)

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- [STM32 ADC + UART (HAL)](https://github.com/Metabolisto/stm32-adc-uart-hal)
- [STM32 DHT11 UART](https://github.com/Metabolisto/stm32_dht11_uart) 